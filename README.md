# ğŸ« æ ªä¸»å„ªå¾… è¿‘éš£åº—èˆ—ãƒãƒƒãƒ—

æ ªä¸»å„ªå¾…PDFã‚’èª­ã¿å–ã‚Šã€**ç¾åœ¨åœ°ã‹ã‚‰è¿‘ã„é †ã«åº—èˆ—ã‚’åœ°å›³è¡¨ç¤º**ã™ã‚‹Streamlitã‚¢ãƒ—ãƒªã§ã™ã€‚

- âœ… **APIã‚­ãƒ¼ä¸è¦**ï¼ˆOpenStreetMap / Nominatim ã§ç„¡æ–™å‹•ä½œï¼‰
- âœ… **è¤‡æ•°ç¤¾PDF å¯¾å¿œ**ï¼ˆè¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åŒæ™‚èª­ã¿è¾¼ã¿ï¼‰
- âœ… **ã‚¹ã‚­ãƒ£ãƒ³PDFå¯¾å¿œ**ï¼ˆOCR è‡ªå‹•èªè­˜ï¼‰
- âœ… **Streamlit Cloud ç„¡æ–™ãƒ‡ãƒ—ãƒ­ã‚¤å¯¾å¿œ**

---

## ğŸ“¸ ç”»é¢ã‚¤ãƒ¡ãƒ¼ã‚¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚µã‚¤ãƒ‰ãƒãƒ¼    â”‚  ğŸ—ºï¸ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒƒãƒ—ï¼ˆFoliumï¼‰   â”‚
â”‚              â”‚                                        â”‚
â”‚ ğŸ“ ç¾åœ¨åœ°     â”‚  ğŸ“ç¾åœ¨åœ°ï¼ˆé’ï¼‰ï¼‹åº—èˆ—ï¼ˆè‰²åˆ¥ãƒãƒ¼ã‚«ãƒ¼ï¼‰  â”‚
â”‚  é§…åãƒ»ä½æ‰€  â”‚                                        â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” çµã‚Šè¾¼ã¿   â”‚  ğŸ“‹ åº—èˆ—ä¸€è¦§ï¼ˆè·é›¢é †ï¼‰                 â”‚
â”‚  æœ€å¤§è·é›¢    â”‚  # â”‚ åº—èˆ—å â”‚ ä¼šç¤¾ â”‚ ä½æ‰€ â”‚ è·é›¢ â”‚ åœ°å›³â”‚
â”‚  è¡¨ç¤ºä»¶æ•°    â”‚                                        â”‚
â”‚              â”‚  â¬‡ï¸ CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/<your-username>/shareholder-benefit-map.git
cd shareholder-benefit-map
```

### 2. Tesseract OCR ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆã‚¹ã‚­ãƒ£ãƒ³PDFå¿…é ˆï¼‰

**macOS:**
```bash
brew install tesseract tesseract-lang
```

**Ubuntu / Debian:**
```bash
sudo apt update
sudo apt install tesseract-ocr tesseract-ocr-jpn tesseract-ocr-jpn-vert
```

**Windows:**
- [UB Mannheim Tesseract](https://github.com/UB-Mannheim/tesseract/wiki) ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- æ—¥æœ¬èªãƒ‡ãƒ¼ã‚¿ï¼ˆjpn.traineddataï¼‰ã‚’è¿½åŠ 

### 3. Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install -r requirements.txt
```

### 4. ã‚¢ãƒ—ãƒªã‚’èµ·å‹•
```bash
streamlit run app.py
```

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:8501` ãŒé–‹ãã¾ã™ã€‚

---

## ğŸ“„ PDFã®ä½¿ã„æ–¹

### â‘  ã‚¢ãƒ—ãƒªä¸Šã‹ã‚‰ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
ã‚¢ãƒ—ãƒªã®ã€ŒPDFã‚’é¸æŠã€ãƒœã‚¿ãƒ³ã‹ã‚‰è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸€æ‹¬ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚

### â‘¡ pdfs/ ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®ï¼ˆå¸¸æ™‚èª­ã¿è¾¼ã¿ï¼‰
```
shareholder-benefit-map/
â””â”€â”€ pdfs/
    â”œâ”€â”€ ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰2024æ ªä¸»å„ªå¾….pdf
    â”œâ”€â”€ ã™ã‹ã„ã‚‰ãƒ¼ãå„ªå¾…æ¡ˆå†….pdf
    â”œâ”€â”€ ã‚¤ã‚ªãƒ³æ ªä¸»å„ªå¾…ã®ã”æ¡ˆå†….pdf
    â””â”€â”€ ...ï¼ˆè¤‡æ•°ç¤¾OKï¼‰
```

### å¯¾å¿œPDFã®ç¨®é¡
| ç¨®é¡ | å¯¾å¿œ | å‡¦ç†æ–¹æ³• |
|------|------|---------|
| ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼PDF | âœ… è‡ªå‹• | pdfplumber ã§ç›´æ¥èª­ã¿å–ã‚Š |
| ã‚¹ã‚­ãƒ£ãƒ³ç”»åƒPDF | âœ… è‡ªå‹• | Tesseract OCR ã§èªè­˜ |

---

## ğŸŒ Streamlit Cloud ã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç„¡æ–™ï¼‰

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ **GitHub ã«ãƒ—ãƒƒã‚·ãƒ¥**
2. [share.streamlit.io](https://share.streamlit.io) ã§ GitHub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’é€£æº
3. ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠã—ã¦ **Deploy** ã‚’ã‚¯ãƒªãƒƒã‚¯
4. å®Œäº†ï¼ãƒ‘ãƒ–ãƒªãƒƒã‚¯URLã§ã©ã“ã‹ã‚‰ã§ã‚‚ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

---

## ğŸ—ï¸ ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
shareholder-benefit-map/
â”œâ”€â”€ app.py              # Streamlit ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”œâ”€â”€ pdf_parser.py       # PDFèª­ã¿å–ã‚Šãƒ»ä½æ‰€æŠ½å‡ºï¼ˆOCRå¯¾å¿œï¼‰
â”œâ”€â”€ geocoder.py         # ä½æ‰€â†’åº§æ¨™å¤‰æ›ï¼ˆNominatim/Googleï¼‰
â”œâ”€â”€ requirements.txt    # ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”œâ”€â”€ pdfs/               # æ ªä¸»å„ªå¾…PDFã‚’ã“ã“ã«ç½®ã
â”‚   â””â”€â”€ ï¼ˆPDFãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ secrets.toml.example  # APIã‚­ãƒ¼è¨­å®šä¾‹
â””â”€â”€ README.md           # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## âš™ï¸ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ä½æ‰€æŠ½å‡ºç²¾åº¦ã‚’ä¸Šã’ãŸã„
`pdf_parser.py` ã® `ADDRESS_RE` ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä¼æ¥­PDFã®å½¢å¼ã«åˆã‚ã›ã¦èª¿æ•´ã§ãã¾ã™ã€‚

### åœ°å›³ã‚¹ã‚¿ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ãŸã„
`app.py` ã® `folium.Map(tiles=...)` ã‚’å¤‰æ›´ï¼š
```python
tiles="OpenStreetMap"     # æ¨™æº–ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
tiles="CartoDB positron"  # ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¢ãƒã‚¯ãƒ­
tiles="Stamen Terrain"    # åœ°å½¢å›³
```

### Google Maps API ã‚­ãƒ¼ã‚’ä½¿ã„ãŸã„
Google Cloud Console ã§ API ã‚­ãƒ¼ã‚’å–å¾—ã—ã€ã‚µã‚¤ãƒ‰ãƒãƒ¼ã§ã€ŒGoogle Maps APIã€ã‚’é¸æŠã—ã¦è²¼ã‚Šä»˜ã‘ã¾ã™ã€‚
ç²¾åº¦ãŒä¸ŠãŒã‚‹åé¢ã€æœˆé–“ä½¿ç”¨é‡ã«ã‚ˆã£ã¦æ–™é‡‘ãŒç™ºç”Ÿã™ã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ï¼ˆå°‘é‡ãªã‚‰ç„¡æ–™æ å†…ï¼‰ã€‚

---

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹
MIT License

## ğŸ™ ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- [Streamlit](https://streamlit.io/)
- [pdfplumber](https://github.com/jsvine/pdfplumber)
- [pytesseract](https://github.com/madmaze/pytesseract) / [Tesseract OCR](https://github.com/tesseract-ocr/tesseract)
- [Folium](https://python-visualization.github.io/folium/)
- [Nominatim / OpenStreetMap](https://nominatim.org/)
